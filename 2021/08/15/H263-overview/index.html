<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2">
<meta name="theme-color" content="#222">
<meta name="generator" content="Hexo 5.4.0">
  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png">
  <link rel="mask-icon" href="/images/logo.svg" color="#222">

<link rel="stylesheet" href="/css/main.css">


<link rel="stylesheet" href="/lib/font-awesome/css/all.min.css">

<script id="hexo-configurations">
    var NexT = window.NexT || {};
    var CONFIG = {"hostname":"jacen9.github.io","root":"/","scheme":"Gemini","version":"7.8.0","exturl":false,"sidebar":{"position":"left","display":"post","padding":18,"offset":12,"onmobile":false},"copycode":{"enable":false,"show_result":false,"style":null},"back2top":{"enable":true,"sidebar":false,"scrollpercent":true},"bookmark":{"enable":false,"color":"#222","save":"auto"},"fancybox":false,"mediumzoom":false,"lazyload":false,"pangu":false,"comments":{"style":"tabs","active":null,"storage":true,"lazyload":false,"nav":null},"algolia":{"hits":{"per_page":10},"labels":{"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}},"localsearch":{"enable":true,"trigger":"auto","top_n_per_article":1,"unescape":false,"preload":false},"motion":{"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},"path":"search.xml"};
  </script>

  <meta name="description" content="h263 是ITU-T用于视频会议的编码标准，最初设计是为了h.324的系统进行传输。后来发现H263也可以用于 H323，H320，RTSP，SIP协议传输。 1998年新增了功能，出现了第二版H263v2，也叫H263+，H263-1998. 2000年出现了第三版，H263v3，也叫H263++，H263-2000. [TOC] 参考网址https:&#x2F;&#x2F;www.itu.int&#x2F;rec&#x2F;T-R">
<meta property="og:type" content="article">
<meta property="og:title" content="H263 overview">
<meta property="og:url" content="http://jacen9.github.io/2021/08/15/H263-overview/index.html">
<meta property="og:site_name" content="书屋">
<meta property="og:description" content="h263 是ITU-T用于视频会议的编码标准，最初设计是为了h.324的系统进行传输。后来发现H263也可以用于 H323，H320，RTSP，SIP协议传输。 1998年新增了功能，出现了第二版H263v2，也叫H263+，H263-1998. 2000年出现了第三版，H263v3，也叫H263++，H263-2000. [TOC] 参考网址https:&#x2F;&#x2F;www.itu.int&#x2F;rec&#x2F;T-R">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="http://jacen9.github.io/.com//h263-source-encode-frame.png">
<meta property="og:image" content="http://jacen9.github.io/.com//.%5CH263-overview%5Cgob">
<meta property="og:image" content="http://jacen9.github.io/.com//.%5CH263-overview%5Cplusptype">
<meta property="og:image" content="http://jacen9.github.io/.com//.%5CH263-overview%5Cgoblayer">
<meta property="og:image" content="http://jacen9.github.io/.com//.%5CH263-overview%5Cmblayer">
<meta property="article:published_time" content="2021-08-15T10:26:08.000Z">
<meta property="article:modified_time" content="2021-08-15T10:39:44.122Z">
<meta property="article:author" content="JacenLiu">
<meta property="article:tag" content="编解码">
<meta property="article:tag" content="H263">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="http://jacen9.github.io/.com//h263-source-encode-frame.png">

<link rel="canonical" href="http://jacen9.github.io/2021/08/15/H263-overview/">


<script id="page-configurations">
  // https://hexo.io/docs/variables.html
  CONFIG.page = {
    sidebar: "",
    isHome : false,
    isPost : true,
    lang   : 'zh-CN'
  };
</script>

  <title>H263 overview | 书屋</title>
  






  <noscript>
  <style>
  .use-motion .brand,
  .use-motion .menu-item,
  .sidebar-inner,
  .use-motion .post-block,
  .use-motion .pagination,
  .use-motion .comments,
  .use-motion .post-header,
  .use-motion .post-body,
  .use-motion .collection-header { opacity: initial; }

  .use-motion .site-title,
  .use-motion .site-subtitle {
    opacity: initial;
    top: initial;
  }

  .use-motion .logo-line-before i { left: initial; }
  .use-motion .logo-line-after i { right: initial; }
  </style>
</noscript>

</head>

<body itemscope itemtype="http://schema.org/WebPage">
  <div class="container use-motion">
    <div class="headband"></div>

    <header class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-container">
  <div class="site-nav-toggle">
    <div class="toggle" aria-label="切换导航栏">
      <span class="toggle-line toggle-line-first"></span>
      <span class="toggle-line toggle-line-middle"></span>
      <span class="toggle-line toggle-line-last"></span>
    </div>
  </div>

  <div class="site-meta">

    <a href="/" class="brand" rel="start">
      <span class="logo-line-before"><i></i></span>
      <h1 class="site-title">书屋</h1>
      <span class="logo-line-after"><i></i></span>
    </a>
  </div>

  <div class="site-nav-right">
    <div class="toggle popup-trigger">
        <i class="fa fa-search fa-fw fa-lg"></i>
    </div>
  </div>
</div>




<nav class="site-nav">
  <ul id="menu" class="main-menu menu">
        <li class="menu-item menu-item-home">

    <a href="/" rel="section"><i class="fa fa-home fa-fw"></i>首页</a>

  </li>
        <li class="menu-item menu-item-archives">

    <a href="/archives/" rel="section"><i class="fa fa-archive fa-fw"></i>归档</a>

  </li>
      <li class="menu-item menu-item-search">
        <a role="button" class="popup-trigger"><i class="fa fa-search fa-fw"></i>搜索
        </a>
      </li>
  </ul>
</nav>



  <div class="search-pop-overlay">
    <div class="popup search-popup">
        <div class="search-header">
  <span class="search-icon">
    <i class="fa fa-search"></i>
  </span>
  <div class="search-input-container">
    <input autocomplete="off" autocapitalize="off"
           placeholder="搜索..." spellcheck="false"
           type="search" class="search-input">
  </div>
  <span class="popup-btn-close">
    <i class="fa fa-times-circle"></i>
  </span>
</div>
<div id="search-result">
  <div id="no-result">
    <i class="fa fa-spinner fa-pulse fa-5x fa-fw"></i>
  </div>
</div>

    </div>
  </div>

</div>
    </header>

    
  <div class="back-to-top">
    <i class="fa fa-arrow-up"></i>
    <span>0%</span>
  </div>


    <main class="main">
      <div class="main-inner">
        <div class="content-wrap">
          

          <div class="content post posts-expand">
            

    
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://jacen9.github.io/2021/08/15/H263-overview/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="JacenLiu">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="书屋">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          H263 overview
        </h1>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>
              

              <time title="创建时间：2021-08-15 18:26:08 / 修改时间：18:39:44" itemprop="dateCreated datePublished" datetime="2021-08-15T18:26:08+08:00">2021-08-15</time>
            </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/%E6%8A%80%E6%9C%AF/" itemprop="url" rel="index"><span itemprop="name">技术</span></a>
                </span>
            </span>

          
  
  <span class="post-meta-item">
    
      <span class="post-meta-item-icon">
        <i class="far fa-comment"></i>
      </span>
      <span class="post-meta-item-text">Valine：</span>
    
    <a title="valine" href="/2021/08/15/H263-overview/#valine-comments" itemprop="discussionUrl">
      <span class="post-comments-count valine-comment-count" data-xid="/2021/08/15/H263-overview/" itemprop="commentCount"></span>
    </a>
  </span>
  
  

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
        <p>h263 是ITU-T用于视频会议的编码标准，最初设计是为了h.324的系统进行传输。后来发现H263也可以用于 H323，H320，RTSP，SIP协议传输。</p>
<p>1998年新增了功能，出现了第二版H263v2，也叫H263+，H263-1998. 2000年出现了第三版，H263v3，也叫H263++，H263-2000.</p>
<p>[TOC]</p>
<h2 id="参考网址"><a href="#参考网址" class="headerlink" title="参考网址"></a>参考网址</h2><p><a target="_blank" rel="noopener" href="https://www.itu.int/rec/T-REC-H.263-200501-I/en">https://www.itu.int/rec/T-REC-H.263-200501-I/en</a></p>
<p><a target="_blank" rel="noopener" href="https://datatracker.ietf.org/doc/html/rfc2190">https://datatracker.ietf.org/doc/html/rfc2190</a></p>
<p><a target="_blank" rel="noopener" href="https://datatracker.ietf.org/doc/html/rfc4629">https://datatracker.ietf.org/doc/html/rfc4629</a></p>
<h2 id="H263支持的图像格式"><a href="#H263支持的图像格式" class="headerlink" title="H263支持的图像格式"></a>H263支持的图像格式</h2><table>
<thead>
<tr>
<th>图像格式</th>
<th>亮度行像素数</th>
<th>亮度行数目</th>
<th>色度行像素数</th>
<th>色度行</th>
</tr>
</thead>
<tbody><tr>
<td>sub-QCIF</td>
<td>128</td>
<td>96</td>
<td>64</td>
<td>48</td>
</tr>
<tr>
<td>QCIF</td>
<td>176</td>
<td>144</td>
<td>88</td>
<td>72</td>
</tr>
<tr>
<td>CIF</td>
<td>352</td>
<td>288</td>
<td>176</td>
<td>144</td>
</tr>
<tr>
<td>4CIF</td>
<td>704</td>
<td>576</td>
<td>352</td>
<td>288</td>
</tr>
<tr>
<td>16CIF</td>
<td>1408</td>
<td>1152</td>
<td>704</td>
<td>576</td>
</tr>
</tbody></table>
<h2 id="H263的编码流程"><a href="#H263的编码流程" class="headerlink" title="H263的编码流程"></a>H263的编码流程</h2><p>编码过程其实和264异曲同工，主要分为预测变换和熵编码，预测同样是帧内和帧间预测，变换使用DCT变换，量化后进行熵编码</p>
<p><img src="/.com//h263-source-encode-frame.png" alt="asdsa"></p>
<h2 id="H263句法分级结构"><a href="#H263句法分级结构" class="headerlink" title="H263句法分级结构"></a>H263句法分级结构</h2><p>h263 分层4个基本层级。从顶层到底层分别为： 图像，块组或截面或视频图像分段，宏块，块</p>
<h3 id="图像"><a href="#图像" class="headerlink" title="图像"></a>图像</h3><p>h263种包含7种图像类型：</p>
<p>1.I帧，INTRA预测</p>
<p>2.P帧， INTER预测</p>
<p>3.PB帧， 表示两个图像，都参考过去的帧</p>
<p>4.改进的PB帧，功能类似PB帧但是效果更好。详细描述在建议书的附件M，没有去深究了</p>
<p>5.B帧，参考时间域前后的两个图像</p>
<p>6.EI帧，在时间域内同时存在多个参考帧图像，参考图像具有相同或者较小的尺寸</p>
<p>7.EP帧，时间域内有2个参考图像，其中一个时间域超前，另外一个时间域同时存在，且具有相同或较小的尺寸</p>
<h3 id="GOB"><a href="#GOB" class="headerlink" title="GOB"></a>GOB</h3><p>块组和GOB实质上是将几行的宏块组合在一起，将图像分割成不同的区域。 GOB规定每个块组最多Kx16行构成，若行数小于400，K=1，行数在400到800之间K=2，行数大于800，K=3.</p>
<p><img src="/.com//.%5CH263-overview%5Cgob" alt="image-20210812145340036"></p>
<h3 id="宏块"><a href="#宏块" class="headerlink" title="宏块"></a>宏块</h3><p>每个GOB被分成宏块，每个宏块为16x16的亮度分量和 8x8的色度分量</p>
<h2 id="H263支持的高级功能"><a href="#H263支持的高级功能" class="headerlink" title="H263支持的高级功能"></a>H263支持的高级功能</h2><p>H263支持 4种可选择的高级功能，标记在H263 header内，提供灵活的开关。</p>
<h3 id="先进的预测模式（AP）Adanced-Prediction"><a href="#先进的预测模式（AP）Adanced-Prediction" class="headerlink" title="先进的预测模式（AP）Adanced Prediction:"></a>先进的预测模式（AP）Adanced Prediction:</h3><p>每宏块4个运动矢量</p>
<p>交叠块运动补偿</p>
<h3 id="P-B-frames"><a href="#P-B-frames" class="headerlink" title="P-B frames"></a>P-B frames</h3><p>和H264的B帧一样的功能，猜测就是这个时候H26x系列增加了B帧的功能</p>
<h3 id="基于句法的算法编码模式（SAC）-syntax-based-Arithmetic-Coding"><a href="#基于句法的算法编码模式（SAC）-syntax-based-Arithmetic-Coding" class="headerlink" title="基于句法的算法编码模式（SAC） syntax-based Arithmetic Coding"></a>基于句法的算法编码模式（SAC） syntax-based Arithmetic Coding</h3><p>所有相应的ITU建议书的变长编/译码操作均用算术编/译码操作替代</p>
<h3 id="非受限运动矢量模式-unrestricted-motion-vectors"><a href="#非受限运动矢量模式-unrestricted-motion-vectors" class="headerlink" title="非受限运动矢量模式 unrestricted motion vectors"></a>非受限运动矢量模式 unrestricted motion vectors</h3><p>运动矢量的范围和供编码运动矢量差分所使用的VLC表依赖于图像帧头的PLUSPTYPE场是否存在。当PLUSPTYPE存在时，运动矢量的范围也依赖于图像尺寸和图像帧头中UUI场的值</p>
<h2 id="H263的句法语义"><a href="#H263的句法语义" class="headerlink" title="H263的句法语义"></a>H263的句法语义</h2><p>这里仅简单介绍部分后续在rtp封包中有使用的，如果有需要请看ITU官方文档</p>
<h3 id="图像层"><a href="#图像层" class="headerlink" title="图像层"></a>图像层</h3><p>每帧图像数据由图像头和跟随的块组或截面数据组成，最后跟随着任选的序列结束码和填充比特。其结构在图7中显示，其中该图像不包括任选的PLUSPTYPE数据场，只要由CPM指示，PSBI就存在。只要PTYPE指示使用“PB帧”模式，TRB和DBQUANT就存在（除非PLUSPTYPE场存在并在那点指示使用<br>DBQUANT）。<br>如PTYPE的比特6-8中所指示的那样，任选的PLUSPTYPE场存在。只要存在，比特流中就包括一个附加的数据集，该数据集立即紧随PTYPE并且优先于PQUANT。另外，当PLUSPTYPE存在时，在图像头部中CPM和PSBI场前移，以至它们立即出现在PLUSPTYPE之后，而不是定位在PQUANT之后。跟随PLUSPTYPE的附加数据格式在图8中显示。PLUSPTYPE之后在此附加图像头部数据中所有场均为任选的，依赖于在PLUSPTYPE中它们的存在是否被指明。当使用截面结构模式时（见附件K），对图7中所示的GOB位置以截面替代。<br>PSUPP和PEI的组合可以不存在，并且一旦存在可以重复。EOS和EOSBS+ESBI可以不存在，而仅当EOS或EOSBS存在时，ESTUF才可以存在。EOS不应被重复，除非每对EOS码之间至少出现一个图像起始码。下线的图像其图像头部不传输。</p>
<p><img src="/.com//.%5CH263-overview%5Cplusptype" alt="image-20210812160422880"></p>
<p>PSC:</p>
<p>PSC是22比特字。它的值为0000 0000 0000 0000 1 00000。所有图像起始码应字节定位。</p>
<p>PTYPE（变长）：</p>
<p>— 比特1：总是“1”，为避免起始码仿真。<br>— 比特2：总是“0”，为同ITU-T H.261建议书区分。<br>— 比特3：分屏指示符，“0”断，“1”通。<br>— 比特4：文件摄像指示符，“0”断，“1”通。<br>— 比特5：全图像冻结释放，“0”断，“1”通。<br>— 比特6-8：源格式，“000”禁用，“001”子QCIF，“010”QCIF，“011”CIF，“100”4CIF，“101”16CIF，“110”保留，“111”扩展的PTYPE。若比特6-8不等于指示扩展的PTYPE（PLUSPTYPE）的“111”，则下列五个比特在PTYPE中也存在：<br>— 比特9：图像编码类型，“0”INTRA（I图像），“1”INTER（P图像）。<br>— 比特10：任选的非受限运动矢量模式（见附件D），“0”断，“1”通。<br>— 比特11：任选的基于句法的算术编码模式（见附件E），“0”断，“1”通。<br>— 比特12：任选的先进的预测模式（见附件F），“0”断，“1”通。<br>— 比特13：任选的PB帧模式（见附件G），“0”正常的I或P图像，“1”PB帧。</p>
<p>ESTUF：</p>
<p>填充，由少于8个零比特组成的可变长码字。编码器可在EOS码字之前直接插入此码字。若必要，编码器应插入该码字以实现EOSBS码字之前的直接强制字节定位。若ESTUF存在，则ESTUF的最后比特应是字节的最后（最低有效）比特，以致EOS或EOSBS码字的起始被字节定位。</p>
<p>EOS：</p>
<p>序列结束，22比特码字。它的值是0000 0000 0000 0000 1 11111。编码器决定是否插入此码字。EOS可以被字节定位。这可通过EOS码之前插入ESTUF来实现，以致EOS码的首比特是字节的第一（最高有效）比特。EOS不应重复除非每对EOS代码之间至少出现一个图像起始码。</p>
<p>PSTUF：</p>
<p>填充，由少于8个零比特组成的可变长码字。编码器插入此码字可供下一个PSC的字节定位。PSTUF的最后比特应是字节的最后（最低有效）比特，以致H.263比特流中包括PSTUF的视频比特流从第一比特起是8比特的一个倍数。译码器应设计丢弃PSTUF。<br>若为了某种理由，在某个确定的时间周期编码器停止编码图像并在以后恢复编码，则编码器停止之前应传输PSTUF，以防止先前图像的最后的最多7比特未被发送，直到编码器恢复编码时为止。</p>
<h3 id="块组层"><a href="#块组层" class="headerlink" title="块组层"></a>块组层</h3><p><img src="/.com//.%5CH263-overview%5Cgoblayer" alt="image-20210812161034995"></p>
<p>GSTUF:</p>
<p>填充,由少于8个零比特组成的可变长码字。在GBSC码字之前，编码器可直接插入此码字。若GSTUF存在，GSTUF的最后比特应是字节的最后（最低有效）比特，以致GBSC码字的起始被字节定位。译码器应设计为丢弃GSTUF。</p>
<p>GBSC:</p>
<p>块组起始码,为一个17比特字。它的值是0000 0000 0000 0000 1。GOB起始码可以字节定位。通过起始码前插入GSTUF能够实现字节定位以致起始码的首比特是字节的第一（最高有效）比特。</p>
<p>GN:</p>
<p>块组编号</p>
<h3 id="宏块层"><a href="#宏块层" class="headerlink" title="宏块层"></a>宏块层</h3><p><img src="/.com//.%5CH263-overview%5Cmblayer" alt="image-20210812161237410"></p>
<p>DQUANT: </p>
<p>量化器信息</p>
<p>MVD,MVD2,MVD3,MVD4:</p>
<p>所有inter宏块都有的运动矢量信息,在payload head当中有使用,但不是直接使用数值,有经过一定的转化</p>
<h2 id="H263的PAYLOAD-HEAD"><a href="#H263的PAYLOAD-HEAD" class="headerlink" title="H263的PAYLOAD HEAD"></a>H263的PAYLOAD HEAD</h2><p>当将H263的流打包发送时，需要将比特流打包成RTP协议，此时需要将H263流之前增加一个payload header标识一些数据，再添加RTP header进行rtp封包。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+</span><br><span class="line">:    RTP Header                                                 :</span><br><span class="line">+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+</span><br><span class="line">:    H.263+ Payload Header                                      :</span><br><span class="line">+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+</span><br><span class="line">:    H.263+ Compressed Data Stream                              :</span><br><span class="line">+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+</span><br></pre></td></tr></table></figure>

<h3 id="h263"><a href="#h263" class="headerlink" title="h263+"></a>h263+</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"> 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5</span><br><span class="line">+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+</span><br><span class="line">|   RR    |P|V|   PLEN    |PEBIT|</span><br><span class="line">+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+</span><br></pre></td></tr></table></figure>

<p>h263+ 的包头如上，其中</p>
<p>RR：5bit</p>
<p>预留位，需要被设成0</p>
<p>P：1bit</p>
<p>表示视频开始或者视频结束，需要被置1</p>
<p>V：1bit</p>
<p>表示 video redundancy coding 功能的开启，如果开启会有8bit的VRC信息紧跟payload header</p>
<p>PLEN：6bit</p>
<p>附加信息的长度，如果携带附件信息，如果便宜这个长度的地址才能找到图像的start code，如果没有附件信息PLEN设成0</p>
<p>PEBIT：3bit</p>
<p>表示 picture head最后一个字节需要忽略的bit数，如果PLEN是0的话，这个也是0</p>
<h3 id="H263"><a href="#H263" class="headerlink" title="H263"></a>H263</h3><p>H263 有3种payload header，分别教Mode A，B和C</p>
<p>当一个rtp包从一个图像头开始的时候，使用Mode A； 当RTP包从图像中间开始，且不支持PB帧的时候，使用Mode B； 当RTP包从图像中间开始，又支持PB帧的时候，使用ModeC</p>
<h4 id="Mode-A"><a href="#Mode-A" class="headerlink" title="Mode A"></a>Mode A</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1</span><br><span class="line">+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+</span><br><span class="line">|F|P|SBIT |EBIT | SRC |I|U|S|A|R      |DBQ| TRB |    TR         |</span><br><span class="line">+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+</span><br></pre></td></tr></table></figure>

<p>F: 1bit</p>
<p>F=0， Mode A; F=1. Mode B 或者 C</p>
<p>P： 1bit</p>
<p>P=0， ModeB； P=1 ,Mode C</p>
<p>SBIT： 3bit</p>
<p>第一个字节需要忽略的位数</p>
<p>EBIT：3bit</p>
<p>最后一个字节需要忽略的位数</p>
<p>SRC：3bit</p>
<p>源图像的格式，为H263 图像层句法的6，7，8位</p>
<p>I:1bit</p>
<p>I=0， 帧内编码； I=1，帧间编码</p>
<p>U：1bit</p>
<p>是否使用了非受限的运动矢量功能，四种高级高能之一</p>
<p>S:1bit</p>
<p>是否使用了SAC功能，4种高级功能之一</p>
<p>A: 1bit</p>
<p>是否使用了AP功能，4种高级功能之一</p>
<p>R:4bit</p>
<p>预留，需要设成0</p>
<p>DBQ： 2bit</p>
<p>PB帧没有使用的话设0， PB帧使用的话设置成DBQUANT句法的数值</p>
<p>TRB： 3bit</p>
<p>PB帧没有使用的话设0， PB帧使用的话设置B帧的时域参考信息</p>
<p>TR:3bit</p>
<p>PB帧没有使用的话设0， PB帧使用的话设置P帧的时域参考信息</p>
<h4 id="Mode-B"><a href="#Mode-B" class="headerlink" title="Mode B"></a>Mode B</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1</span><br><span class="line">+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+</span><br><span class="line">|F|P|SBIT |EBIT | SRC | QUANT   |  GOBN   |   MBA           |R  |</span><br><span class="line">+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+</span><br><span class="line">|I|U|S|A| HMV1        | VMV1        | HMV2        | VMV2        |</span><br><span class="line">+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+</span><br></pre></td></tr></table></figure>

<p>QUANT: 5bit</p>
<p>这个包起始的宏块句法GQUANT 的量化信息，如果起始位是GOB头的话就设成0</p>
<p>GOBN：5bit</p>
<p>这个包起始位置的GOB序号</p>
<p>MBA： 9bit</p>
<p>第一个MB在当前GOB的地址</p>
<p>HMV1，VMV1，HMV2，VMV2： 每个都是7bit</p>
<p>这个包第一个宏块的对应MVD,MVD1,MVD2,MVD3的信息</p>
<h4 id="Mode-C"><a href="#Mode-C" class="headerlink" title="Mode C"></a>Mode C</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1</span><br><span class="line">+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+</span><br><span class="line">|F|P|SBIT |EBIT | SRC | QUANT   |  GOBN   |   MBA           |R  |</span><br><span class="line">+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+</span><br><span class="line">|I|U|S|A| HMV1        | VMV1        | HMV2        | VMV2        |</span><br><span class="line">+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+</span><br><span class="line">| RR                                  |DBQ| TRB |    TR         |</span><br><span class="line">+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+</span><br></pre></td></tr></table></figure>

<p>是Mode A和Mode B的结合，所有的信息在前面的介绍都能找到</p>

    </div>

    
    
    

      <footer class="post-footer">
          <div class="post-tags">
              <a href="/tags/%E7%BC%96%E8%A7%A3%E7%A0%81/" rel="tag"># 编解码</a>
              <a href="/tags/H263/" rel="tag"># H263</a>
          </div>

        


        
    <div class="post-nav">
      <div class="post-nav-item">
    <a href="/2021/07/26/%E5%88%9D%E5%A7%8B%E4%B9%8B%E9%99%85/" rel="prev" title="初始之际">
      <i class="fa fa-chevron-left"></i> 初始之际
    </a></div>
      <div class="post-nav-item">
    <a href="/2021/08/15/H264%E7%9A%84%E9%95%BF%E6%9C%9F%E5%8F%82%E8%80%83%E5%B8%A7LTR/" rel="next" title="H264的长期参考帧LTR">
      H264的长期参考帧LTR <i class="fa fa-chevron-right"></i>
    </a></div>
    </div>
      </footer>
    
  </article>
  
  
  



          </div>
          
    <div class="comments" id="valine-comments"></div>

<script>
  window.addEventListener('tabs:register', () => {
    let { activeClass } = CONFIG.comments;
    if (CONFIG.comments.storage) {
      activeClass = localStorage.getItem('comments_active') || activeClass;
    }
    if (activeClass) {
      let activeTab = document.querySelector(`a[href="#comment-${activeClass}"]`);
      if (activeTab) {
        activeTab.click();
      }
    }
  });
  if (CONFIG.comments.storage) {
    window.addEventListener('tabs:click', event => {
      if (!event.target.matches('.tabs-comment .tab-content .tab-pane')) return;
      let commentClass = event.target.classList[1];
      localStorage.setItem('comments_active', commentClass);
    });
  }
</script>

        </div>
          
  
  <div class="toggle sidebar-toggle">
    <span class="toggle-line toggle-line-first"></span>
    <span class="toggle-line toggle-line-middle"></span>
    <span class="toggle-line toggle-line-last"></span>
  </div>

  <aside class="sidebar">
    <div class="sidebar-inner">

      <ul class="sidebar-nav motion-element">
        <li class="sidebar-nav-toc">
          文章目录
        </li>
        <li class="sidebar-nav-overview">
          站点概览
        </li>
      </ul>

      <!--noindex-->
      <div class="post-toc-wrap sidebar-panel">
          <div class="post-toc motion-element"><ol class="nav"><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%8F%82%E8%80%83%E7%BD%91%E5%9D%80"><span class="nav-number">1.</span> <span class="nav-text">参考网址</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#H263%E6%94%AF%E6%8C%81%E7%9A%84%E5%9B%BE%E5%83%8F%E6%A0%BC%E5%BC%8F"><span class="nav-number">2.</span> <span class="nav-text">H263支持的图像格式</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#H263%E7%9A%84%E7%BC%96%E7%A0%81%E6%B5%81%E7%A8%8B"><span class="nav-number">3.</span> <span class="nav-text">H263的编码流程</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#H263%E5%8F%A5%E6%B3%95%E5%88%86%E7%BA%A7%E7%BB%93%E6%9E%84"><span class="nav-number">4.</span> <span class="nav-text">H263句法分级结构</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%9B%BE%E5%83%8F"><span class="nav-number">4.1.</span> <span class="nav-text">图像</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#GOB"><span class="nav-number">4.2.</span> <span class="nav-text">GOB</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%AE%8F%E5%9D%97"><span class="nav-number">4.3.</span> <span class="nav-text">宏块</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#H263%E6%94%AF%E6%8C%81%E7%9A%84%E9%AB%98%E7%BA%A7%E5%8A%9F%E8%83%BD"><span class="nav-number">5.</span> <span class="nav-text">H263支持的高级功能</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%85%88%E8%BF%9B%E7%9A%84%E9%A2%84%E6%B5%8B%E6%A8%A1%E5%BC%8F%EF%BC%88AP%EF%BC%89Adanced-Prediction"><span class="nav-number">5.1.</span> <span class="nav-text">先进的预测模式（AP）Adanced Prediction:</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#P-B-frames"><span class="nav-number">5.2.</span> <span class="nav-text">P-B frames</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%9F%BA%E4%BA%8E%E5%8F%A5%E6%B3%95%E7%9A%84%E7%AE%97%E6%B3%95%E7%BC%96%E7%A0%81%E6%A8%A1%E5%BC%8F%EF%BC%88SAC%EF%BC%89-syntax-based-Arithmetic-Coding"><span class="nav-number">5.3.</span> <span class="nav-text">基于句法的算法编码模式（SAC） syntax-based Arithmetic Coding</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E9%9D%9E%E5%8F%97%E9%99%90%E8%BF%90%E5%8A%A8%E7%9F%A2%E9%87%8F%E6%A8%A1%E5%BC%8F-unrestricted-motion-vectors"><span class="nav-number">5.4.</span> <span class="nav-text">非受限运动矢量模式 unrestricted motion vectors</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#H263%E7%9A%84%E5%8F%A5%E6%B3%95%E8%AF%AD%E4%B9%89"><span class="nav-number">6.</span> <span class="nav-text">H263的句法语义</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%9B%BE%E5%83%8F%E5%B1%82"><span class="nav-number">6.1.</span> <span class="nav-text">图像层</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%9D%97%E7%BB%84%E5%B1%82"><span class="nav-number">6.2.</span> <span class="nav-text">块组层</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%AE%8F%E5%9D%97%E5%B1%82"><span class="nav-number">6.3.</span> <span class="nav-text">宏块层</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#H263%E7%9A%84PAYLOAD-HEAD"><span class="nav-number">7.</span> <span class="nav-text">H263的PAYLOAD HEAD</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#h263"><span class="nav-number">7.1.</span> <span class="nav-text">h263+</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#H263"><span class="nav-number">7.2.</span> <span class="nav-text">H263</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#Mode-A"><span class="nav-number">7.2.1.</span> <span class="nav-text">Mode A</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#Mode-B"><span class="nav-number">7.2.2.</span> <span class="nav-text">Mode B</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#Mode-C"><span class="nav-number">7.2.3.</span> <span class="nav-text">Mode C</span></a></li></ol></li></ol></li></ol></div>
      </div>
      <!--/noindex-->

      <div class="site-overview-wrap sidebar-panel">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
  <p class="site-author-name" itemprop="name">JacenLiu</p>
  <div class="site-description" itemprop="description"></div>
</div>
<div class="site-state-wrap motion-element">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
          <a href="/archives/">
        
          <span class="site-state-item-count">3</span>
          <span class="site-state-item-name">日志</span>
        </a>
      </div>
      <div class="site-state-item site-state-categories">
        <span class="site-state-item-count">2</span>
        <span class="site-state-item-name">分类</span>
      </div>
      <div class="site-state-item site-state-tags">
        <span class="site-state-item-count">4</span>
        <span class="site-state-item-name">标签</span>
      </div>
  </nav>
</div>



      </div>

    </div>
  </aside>
  <div id="sidebar-dimmer"></div>


      </div>
    </main>

    <footer class="footer">
      <div class="footer-inner">
        

        

<div class="copyright">
  
  &copy; 
  <span itemprop="copyrightYear">2021</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">JacenLiu</span>
</div>
<!--
  <div class="powered-by">由 <a href="https://hexo.io/" class="theme-link" rel="noopener" target="_blank">Hexo</a> & <a href="https://theme-next.org/" class="theme-link" rel="noopener" target="_blank">NexT.Gemini</a> 强力驱动
  </div>
-->

        








      </div>
    </footer>
  </div>

  
  <script src="/lib/anime.min.js"></script>
  <script src="/lib/velocity/velocity.min.js"></script>
  <script src="/lib/velocity/velocity.ui.min.js"></script>

<script src="/js/utils.js"></script>

<script src="/js/motion.js"></script>


<script src="/js/schemes/pisces.js"></script>


<script src="/js/next-boot.js"></script>




  




  
<script src="/js/local-search.js"></script>













  

  


<script>
NexT.utils.loadComments(document.querySelector('#valine-comments'), () => {
  NexT.utils.getScript('//unpkg.com/valine/dist/Valine.min.js', () => {
    var GUEST = ['nick', 'mail', 'link'];
    var guest = 'nick,mail,link';
    guest = guest.split(',').filter(item => {
      return GUEST.includes(item);
    });
    new Valine({
      el         : '#valine-comments',
      verify     : false,
      notify     : false,
      appId      : 'u7wvUOu2Hz8MwWsCIpkV70ny-9Nh9j0Va',
      appKey     : 'M20B28Lp2Sm63gU6WWjUtg4C',
      placeholder: "有什么想说",
      avatar     : 'mm',
      meta       : guest,
      pageSize   : '10' || 10,
      visitor    : false,
      lang       : '' || 'zh-cn',
      path       : location.pathname,
      recordIP   : false,
      serverURLs : ''
    });
  }, window.Valine);
});
</script>

</body>
</html>
